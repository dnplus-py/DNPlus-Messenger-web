<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro - DNPlus</title>
    <style>
        body { 
            background-color: #0b141a; 
            color: #e9edef; 
            text-align: center; 
            font-family: sans-serif;
            margin: 0; padding: 20px;
        }
        .title { color: #e9edef; font-weight: 500; margin-top: 40px; font-size: 22px; }
        .instruccion { color: #8696a0; font-size: 14px; margin-bottom: 30px; padding: 0 40px; }

        /* Selector de Pa√≠s Estilo WhatsApp */
        .country-picker {
            border-bottom: 1px solid #085f56;
            width: 280px;
            margin: 0 auto 20px;
            padding: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }

        .phone-input-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            width: 280px;
            margin: 0 auto 40px;
        }
        .prefix { border-bottom: 1px solid #085f56; padding: 10px 0; width: 60px; font-size: 18px; }
        .number-input { 
            background: transparent; border: none; 
            border-bottom: 1px solid #085f56; 
            padding: 10px 0; font-size: 18px; 
            width: 100%; outline: none; color: #e9edef; 
        }

        .btn-confirmar { 
            background-color: #085f56; color: white; 
            padding: 12px 60px; border-radius: 30px; 
            font-weight: bold; border: none; cursor: pointer;
        }

        /* MODAL DE PA√çSES */
        .modal-countries {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #0b141a;
            z-index: 2000;
            flex-direction: column;
        }
        .search-bar {
            background: #085f56;
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .search-input {
            background: transparent; border: none;
            color: white; font-size: 18px; width: 100%; outline: none;
        }
        .country-list { overflow-y: auto; flex: 1; }
        .country-item {
            display: flex; justify-content: space-between;
            padding: 15px 25px;
            border-bottom: 1px solid rgba(134,150,160,0.1);
        }
    </style>
</head>
<body>

    <h2 class="title">Introduce tu n√∫mero</h2>
    <p class="instruccion">DNPlus verificar√° tu n√∫mero de tel√©fono.</p>

    <div class="country-picker" onclick="abrirPaises()">
        <span id="countryName">Paraguay</span>
        <span style="color: #085f56;">‚ñº</span>
    </div>

    <div class="phone-input-container">
        <div class="prefix" id="countryCode">+595</div>
        <input type="tel" id="phoneInput" class="number-input" placeholder="N√∫mero de tel√©fono" autofocus>
    </div>

    <button class="btn-confirmar" onclick="validar()">SIGUIENTE</button>

    <div id="modalPaises" class="modal-countries">
        <div class="search-bar">
            <span onclick="cerrarPaises()" style="cursor:pointer">‚Üê</span>
            <input type="text" class="search-input" id="busqueda" placeholder="Busca un pa√≠s..." oninput="filtrarPaises()">
        </div>
        <div class="country-list" id="listaPaises">
            </div>
    </div>

    <script>
        const paises = [
            {n: "Paraguay", c: "+595", b: "üáµüáæ"},
            {n: "Argentina", c: "+54", b: "üá¶üá∑"},
            {n: "Brasil", c: "+55", b: "üáßüá∑"},
            {n: "Bolivia", c: "+591", b: "üáßüá¥"},
            {n: "Chile", c: "+56", b: "üá®üá±"},
            {n: "Colombia", c: "+57", b: "üá®üá¥"},
            {n: "Espa√±a", c: "+34", b: "üá™üá∏"},
            {n: "Estados Unidos", c: "+1", b: "üá∫üá∏"},
            {n: "M√©xico", c: "+52", b: "üá≤üáΩ"},
            {n: "Per√∫", c: "+51", b: "üáµüá™"},
            {n: "Uruguay", c: "+598", b: "üá∫üáæ"},
            {n: "Venezuela", c: "+58", b: "üáªüá™"}
        ];

        function abrirPaises() { document.getElementById('modalPaises').style.display = 'flex'; filtrarPaises(); }
        function cerrarPaises() { document.getElementById('modalPaises').style.display = 'none'; }

        function filtrarPaises() {
            const busqueda = document.getElementById('busqueda').value.toLowerCase();
            const lista = document.getElementById('listaPaises');
            lista.innerHTML = "";

            paises.filter(p => p.n.toLowerCase().includes(busqueda)).forEach(p => {
                const div = document.createElement('div');
                div.className = 'country-item';
                div.onclick = () => seleccionar(p);
                div.innerHTML = `<span>${p.b} ${p.n}</span> <span style="color:#00a884">${p.c}</span>`;
                lista.appendChild(div);
            });
        }

        function seleccionar(p) {
            document.getElementById('countryName').innerText = p.n;
            document.getElementById('countryCode').innerText = p.c;
            cerrarPaises();
        }

        function validar() {
            const num = document.getElementById('phoneInput').value;
            const code = document.getElementById('countryCode').innerText;
            if(num.length > 5) {
                localStorage.setItem("user_phone", code + " " + num);
                window.location.href = 'otp.html';
            } else {
                alert("N√∫mero inv√°lido");
            }
        }
    </script>
</body>
</html>
