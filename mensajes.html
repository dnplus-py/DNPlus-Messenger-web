<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DNPlus - David Oviedo</title>
    <link rel="stylesheet" href="estilos_chat.css"> 
</head>
<body>

    <div id="main-container">
        <div id="header-container"></div>

        <div id="chat-box"></div>

        <div id="input-container"></div>
    </div>

    <div id="visor" onclick="this.style.display='none'"><img id="img-zoom"></div>

    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-database-compat.js"></script>
    
    <script>
        // Configuración Firebase (Pieza fundamental)
        const firebaseConfig = { 
            apiKey: "AIzaSyD2nZF5QC-Zti80xP1A518qbUPnhRru_9A", 
            databaseURL: "https://dnplus-messenger-pro-default-rtdb.firebaseio.com" 
        };
        firebase.initializeApp(firebaseConfig);

        // FUNCIÓN PARA JUNTAR LAS PARTES
        async function cargarPartes() {
            // Cargamos el HTML de la cabecera
            const resHeader = await fetch('cabecera_chat.html');
            document.getElementById('header-container').innerHTML = await resHeader.text();

            // Cargamos el HTML de la barra de mensajes
            const resInput = await fetch('barra_input.html');
            document.getElementById('input-container').innerHTML = await resInput.text();

            // Una vez cargado todo, activamos los eventos del micro y mensajes
            iniciarLogicaChat(); 
        }

        cargarPartes();
    </script>
    <script src="chat_logic.js"></script>
</body>
</html>
